/*!
 * name: SearchinGhost
 * version: 0.5.1
 * repository: https://github.com/gmfmi/searchinGhost#readme
 */
var SearchinGhost=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";!function(e,n,r){let i;(i=r.define)&&i.amd?i([],(function(){return n})):(i=r.modules)?i["FlexSearch".toLowerCase()]=n:t.exports=n}(0,function t(e){function n(t,e){const n=e?e.id:t&&t.id;this.id=n||0===n?n:L++,this.init(t,e),s(this,"index",(function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].c):Object.keys(this.c)})),s(this,"length",(function(){return this.index.length}))}function r(t,e,n,r){return this.u!==this.g&&(this.o=this.o.concat(n),this.u++,r&&this.o.length>=r&&(this.u=this.g),this.u===this.g&&(this.cache&&this.j.set(e,this.o),this.F&&this.F(this.o))),this}function i(t,e){const n=t.length,r=b(e),i=[];for(let o=0,s=0;o<n;o++){const n=t[o];(r&&e(n)||!r&&!e[n])&&(i[s++]=n)}return i}function o(t,e,n,r,i,o,s,a,c,u){let f;if(n=v(n,s?0:i,a,o,e,c,u),a&&(a=n.page,f=n.next,n=n.result),s)e=this.where(s,null,i,n);else{for(e=n,n=this.l,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=n[e[s]];e=o}return n=e,r&&(b(r)||(A=r.split(":"),1<A.length?r=p:(A=A[0],r=d)),n.sort(r)),n=g(a,f,n),this.cache&&this.j.set(t,n),n}function s(t,e,n){Object.defineProperty(t,e,{get:n})}function a(t){return new RegExp(t,"g")}function c(t,e){for(let n=0;n<e.length;n+=2)t=t.replace(e[n],e[n+1]);return t}function u(t,e,n,r,i,o,s,a){return e[n]?e[n]:(i=i?(a-(s||a/1.5))*o+(s||a/1.5)*i:o,e[n]=i,i>=s&&((t=(t=t[a-(i+.5>>0)])[n]||(t[n]=[]))[t.length]=r),i)}function f(t,e){if(t){const n=Object.keys(t);for(let r=0,i=n.length;r<i;r++){const i=n[r],o=t[i];if(o)for(let n=0,r=o.length;n<r;n++){if(o[n]===e){1===r?delete t[i]:o.splice(n,1);break}w(o[n])&&f(o[n],e)}}}}function h(t){let e="",n="";var r="";for(let i=0;i<t.length;i++){const o=t[i];o!==n&&(i&&"h"===o?(r="a"===r||"e"===r||"i"===r||"o"===r||"u"===r||"y"===r,(("a"===n||"e"===n||"i"===n||"o"===n||"u"===n||"y"===n)&&r||" "===n)&&(e+=o)):e+=o),r=i===t.length-1?"":t[i+1],n=o}return e}function l(t,e){return 0>(t=t.length-e.length)?1:t?-1:0}function d(t,e){return(t=t[A])<(e=e[A])?-1:t>e?1:0}function p(t,e){const n=A.length;for(let r=0;r<n;r++)t=t[A[r]],e=e[A[r]];return t<e?-1:t>e?1:0}function g(t,e,n){return t?{page:t,next:e?""+e:null,result:n}:n}function v(t,e,n,r,i,o,s){let a,c=[];if(!0===n){n="0";var u=""}else u=n&&n.split(":");const f=t.length;if(1<f){const b=j(),w=[];let x,O;var h,l=0;let k;var d=!0;let _,E,T,L,C,P,A=0;if(u&&(2===u.length?(L=u,u=!1):u=C=parseInt(u[0],10)),s){for(x=j();l<f;l++)if("not"===i[l])for(O=t[l],k=O.length,h=0;h<k;h++)x["@"+O[h]]=1;else T=l+1;if(S(T))return g(n,a,c);l=0}else E=m(i)&&i;for(;l<f;l++){const m=l===(T||f)-1;if(!E||!l)if((h=E||i&&i[l])&&"and"!==h){if("or"!==h)continue;P=!1}else P=o=!0;if(O=t[l],k=O.length){if(d){if(!_){_=O;continue}var p=_.length;for(h=0;h<p;h++){var v="@"+(d=_[h]);s&&x[v]||(b[v]=1,o||(c[A++]=d))}_=null,d=!1}for(v=!1,h=0;h<k;h++){var y="@"+(p=O[h]);const t=o?b[y]||0:l;if(!(!t&&!r||s&&x[y]||!o&&b[y]))if(t===l){if(m){if((!C||--C<A)&&(c[A++]=p,e&&A===e))return g(n,A+(u||0),c)}else b[y]=l+1;v=!0}else r&&((y=w[t]||(w[t]=[]))[y.length]=p)}if(P&&!v&&!r)break}else if(P&&!r)return g(n,a,O)}if(_)if(l=_.length,s)for(h=u?parseInt(u,10):0;h<l;h++)x["@"+(t=_[h])]||(c[A++]=t);else c=_;if(r)for(A=c.length,L?(l=parseInt(L[0],10)+1,h=parseInt(L[1],10)+1):(l=w.length,h=0);l--;)if(p=w[l]){for(k=p.length;h<k;h++)if(r=p[h],(!s||!x["@"+r])&&(c[A++]=r,e&&A===e))return g(n,l+":"+h,c);h=0}}else!f||i&&"not"===i[0]||(c=t[0],u&&(u=parseInt(u[0],10)));return e&&(s=c.length,u&&u>s&&(u=0),a=(u=u||0)+e,a<s?c=c.slice(u,a):(a=0,u&&(c=c.slice(u)))),g(n,a,c)}function m(t){return"string"==typeof t}function y(t){return t.constructor===Array}function b(t){return"function"==typeof t}function w(t){return"object"==typeof t}function S(t){return void 0===t}function x(t){const e=Array(t);for(let n=0;n<t;n++)e[n]=j();return e}function j(){return Object.create(null)}function O(){let t,e;self.onmessage=function(n){if(n=n.data)if(n.search){const r=e.search(n.content,n.threshold?{limit:n.limit,threshold:n.threshold,where:n.where}:n.limit);self.postMessage({id:t,content:n.content,limit:n.limit,result:r})}else n.add?e.add(n.id,n.content):n.update?e.update(n.id,n.content):n.remove?e.remove(n.id):n.clear?e.clear():n.info?((n=e.info()).worker=t,console.log(n)):n.register&&(t=n.id,n.options.cache=!1,n.options.async=!1,n.options.worker=!1,e=new Function(n.register.substring(n.register.indexOf("{")+1,n.register.lastIndexOf("}")))(),e=new e(n.options))}}function k(n,r,i,o){n=e("flexsearch","id"+n,O,(function(t){(t=t.data)&&t.result&&o(t.id,t.content,t.result,t.limit,t.where,t.cursor,t.suggest)}),r);const s=t.toString();return i.id=r,n.postMessage({register:s,options:i,id:r}),n}const _={encode:"icase",f:"forward",split:/\W+/,cache:!1,async:!1,g:!1,D:!1,a:!1,b:9,threshold:0,depth:0},E={memory:{encode:"extra",f:"strict",threshold:0,b:1},speed:{encode:"icase",f:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",f:"full",threshold:1,b:3},score:{encode:"extra",f:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",f:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",f:"strict",threshold:8,b:9,depth:1}},T=[];let L=0;const C={},P={};let A;n.create=function(t,e){return new n(t,e)},n.registerMatcher=function(t){for(const e in t)t.hasOwnProperty(e)&&T.push(a(e),t[e]);return this},n.registerEncoder=function(t,e){return R[t]=e.bind(R),this},n.registerLanguage=function(t,e){return C[t]=e.filter,P[t]=e.stemmer,this},n.encode=function(t,e){return R[t](e)},n.prototype.init=function(t,e){if(this.v=[],e){var i=e.preset;t=e}else t||(t=_),i=t.preset;if(e={},m(t)?(e=E[t],t={}):i&&(e=E[i]),i=t.worker)if("undefined"==typeof Worker)t.worker=!1,this.m=null;else{var o=parseInt(i,10)||4;this.C=-1,this.u=0,this.o=[],this.F=null,this.m=Array(o);for(var s=0;s<o;s++)this.m[s]=k(this.id,s,t,r.bind(this))}if(this.f=t.tokenize||e.f||this.f||_.f,this.split=S(i=t.split)?this.split||_.split:m(i)?a(i):i,this.D=t.rtl||this.D||_.D,this.async="undefined"==typeof Promise||S(i=t.async)?this.async||_.async:i,this.g=S(i=t.worker)?this.g||_.g:i,this.threshold=S(i=t.threshold)?e.threshold||this.threshold||_.threshold:i,this.b=S(i=t.resolution)?i=e.b||this.b||_.b:i,i<=this.threshold&&(this.b=this.threshold+1),this.depth="strict"!==this.f||S(i=t.depth)?e.depth||this.depth||_.depth:i,this.w=(i=S(i=t.encode)?e.encode||_.encode:i)&&R[i]&&R[i].bind(R)||(b(i)?i:this.w||!1),(i=t.matcher)&&this.addMatcher(i),i=(e=t.lang)||t.filter){if(m(i)&&(i=C[i]),y(i)){o=this.w,s=j();for(var c=0;c<i.length;c++){var u=o?o(i[c]):i[c];s[u]=1}i=s}this.filter=i}if(i=e||t.stemmer){var f;for(f in e=m(i)?P[i]:i,o=this.w,s=[],e)e.hasOwnProperty(f)&&(c=o?o(f):f,s.push(a(c+"($|\\W)"),o?o(e[f]):e[f]));this.stemmer=f=s}if(this.a=s=(i=t.doc)?function t(e){const n=j();for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];y(i)?n[r]=i.slice(0):w(i)?n[r]=t(i):n[r]=i}return n}(i):this.a||_.a,this.i=x(this.b-(this.threshold||0)),this.h=j(),this.c=j(),s){if(this.l=j(),t.doc=null,f=s.index={},e=s.keys=[],o=s.field,c=s.tag,u=s.store,y(s.id)||(s.id=s.id.split(":")),u){var h=j();if(m(u))h[u]=1;else if(y(u))for(let t=0;t<u.length;t++)h[u[t]]=1;else w(u)&&(h=u);s.store=h}if(c){if(this.G=j(),u=j(),o)if(m(o))u[o]=t;else if(y(o))for(h=0;h<o.length;h++)u[o[h]]=t;else w(o)&&(u=o);for(y(c)||(s.tag=c=[c]),o=0;o<c.length;o++)this.G[c[o]]=j();this.I=c,o=u}if(o){let r;for(y(o)||(w(o)?(r=o,s.field=o=Object.keys(o)):s.field=o=[o]),s=0;s<o.length;s++)y(c=o[s])||(r&&(t=r[c]),e[s]=c,o[s]=c.split(":")),f[c]=new n(t)}t.doc=i}return this.B=!0,this.j=!!(this.cache=i=S(i=t.cache)?this.cache||_.cache:i)&&new M(i),this},n.prototype.encode=function(t){return t&&(T.length&&(t=c(t,T)),this.v.length&&(t=c(t,this.v)),this.w&&(t=this.w(t)),this.stemmer&&(t=c(t,this.stemmer))),t},n.prototype.addMatcher=function(t){const e=this.v;for(const n in t)t.hasOwnProperty(n)&&e.push(a(n),t[n]);return this},n.prototype.add=function(t,e,n,r,o){if(this.a&&w(t))return this.A("add",t,e);if(e&&m(e)&&(t||0===t)){var s="@"+t;if(this.c[s]&&!r)return this.update(t,e);if(this.g)return++this.C>=this.m.length&&(this.C=0),this.m[this.C].postMessage({add:!0,id:t,content:e}),this.c[s]=""+this.C,n&&n(),this;if(!o){if(this.async&&"function"!=typeof importScripts){let i=this;return s=new Promise((function(n){setTimeout((function(){i.add(t,e,null,r,!0),i=null,n()}))})),n?(s.then(n),this):s}if(n)return this.add(t,e,null,r,!0),n(),this}if(!(e=this.encode(e)).length)return this;o=b(n=this.f)?n(e):e.split(this.split),this.filter&&(o=i(o,this.filter));const d=j();d._ctx=j();const p=o.length,g=this.threshold,v=this.depth,m=this.b,y=this.i,w=this.D;for(let e=0;e<p;e++){var a=o[e];if(a){var c=a.length,f=(w?e+1:p-e)/p,h="";switch(n){case"reverse":case"both":for(var l=c;--l;)u(y,d,h=a[l]+h,t,w?1:(c-l)/c,f,g,m-1);h="";case"forward":for(l=0;l<c;l++)u(y,d,h+=a[l],t,w?(l+1)/c:1,f,g,m-1);break;case"full":for(l=0;l<c;l++){const e=(w?l+1:c-l)/c;for(let n=c;n>l;n--)u(y,d,h=a.substring(l,n),t,e,f,g,m-1)}break;default:if(c=u(y,d,a,t,1,f,g,m-1),v&&1<p&&c>=g)for(c=d._ctx[a]||(d._ctx[a]=j()),a=this.h[a]||(this.h[a]=x(m-(g||0))),0>(f=e-v)&&(f=0),(h=e+v+1)>p&&(h=p);f<h;f++)f!==e&&u(a,c,o[f],t,0,m-(f<e?e-f:f-e),g,m-1)}}}this.c[s]=1,this.B=!1}return this},n.prototype.A=function(t,e,n){if(y(e)){var r=e.length;if(r--){for(var i=0;i<r;i++)this.A(t,e[i]);return this.A(t,e[r],n)}}else{var o,s=this.a.index,a=this.a.keys,c=this.a.tag;i=this.a.store;var u=this.a.id;r=e;for(var f=0;f<u.length;f++)r=r[u[f]];if("remove"===t&&(delete this.l[r],u=a.length,u--)){for(e=0;e<u;e++)s[a[e]].remove(r);return s[a[u]].remove(r,n)}if(c){for(o=0;o<c.length;o++){var h=c[o],l=e;for(u=h.split(":"),f=0;f<u.length;f++)l=l[u[f]];l="@"+l}o=(o=this.G[h])[l]||(o[l]=[])}for(let i=0,o=(u=this.a.field).length;i<o;i++){for(h=u[i],c=e,l=0;l<h.length;l++)c=c[h[l]];h=s[a[i]],l="add"===t?h.add:h.update,i===o-1?l.call(h,r,c,n):l.call(h,r,c)}if(i){for(n=Object.keys(i),t=j(),s=0;s<n.length;s++)if(i[a=n[s]]){let n,r;for(a=a.split(":"),u=0;u<a.length;u++)n=(n||e)[c=a[u]],r=(r||t)[c]=n}e=t}o&&(o[o.length]=e),this.l[r]=e}return this},n.prototype.update=function(t,e,n){return this.a&&w(t)?this.A("update",t,e):(this.c["@"+t]&&m(e)&&(this.remove(t),this.add(t,e,n,!0)),this)},n.prototype.remove=function(t,e,n){if(this.a&&w(t))return this.A("remove",t,e);var r="@"+t;if(this.c[r]){if(this.g)return this.m[this.c[r]].postMessage({remove:!0,id:t}),delete this.c[r],e&&e(),this;if(!n){if(this.async&&"function"!=typeof importScripts){let n=this;return r=new Promise((function(e){setTimeout((function(){n.remove(t,null,!0),n=null,e()}))})),e?(r.then(e),this):r}if(e)return this.remove(t,null,!0),e(),this}for(e=0;e<this.b-(this.threshold||0);e++)f(this.i[e],t);this.depth&&f(this.h,t),delete this.c[r],this.B=!1}return this},n.prototype.search=function(t,e,n,r){if(w(e)){if(y(e))for(var s=0;s<e.length;s++)e[s].query=t;else e.query=t;t=e,e=1e3}else e&&b(e)?(n=e,e=1e3):e||0===e||(e=1e3);if(!this.g){var a=[],c=t;if(w(t)&&!y(t)){n||(n=t.callback)&&(c.callback=null);var u=t.sort,f=t.page;e=t.limit,k=t.threshold;var h=t.suggest;t=t.query}if(this.a){k=this.a.index;const i=c.where;var d=c.bool||"or",p=c.field;let l,v,b=d;if(p)y(p)||(p=[p]);else if(y(c)){var g=c;p=[],b=[];for(var S=0;S<c.length;S++)s=(r=c[S]).bool||d,p[S]=r.field,b[S]=s,"not"===s?l=!0:"and"===s&&(v=!0)}else p=this.a.keys;for(d=p.length,S=0;S<d;S++)g&&(c=g[S]),f&&!m(c)&&(c.page=null,c.limit=0),a[S]=k[p[S]].search(c,0);if(n)return n(o.call(this,t,b,a,u,e,h,i,f,v,l));if(this.async){const n=this;return new Promise((function(r){Promise.all(a).then((function(s){r(o.call(n,t,b,s,u,e,h,i,f,v,l))}))}))}return o.call(this,t,b,a,u,e,h,i,f,v,l)}if(k||(k=this.threshold||0),!r){if(this.async&&"function"!=typeof importScripts){let t=this;return k=new Promise((function(n){setTimeout((function(){n(t.search(c,e,null,!0)),t=null}))})),n?(k.then(n),this):k}if(n)return n(this.search(c,e,null,!0)),this}if(!t||!m(t))return a;if(c=t,this.cache)if(this.B){if(n=this.j.get(t))return n}else this.j.clear(),this.B=!0;if(!(c=this.encode(c)).length)return a;n=b(n=this.f)?n(c):c.split(this.split),this.filter&&(n=i(n,this.filter)),g=n.length,r=!0,s=[];var x=j(),O=0;if(1<g&&(this.depth&&"strict"===this.f?d=!0:n.sort(l)),!d||(S=this.h)){const t=this.b;for(;O<g;O++){let e=n[O];if(e){if(d){if(!p)if(S[e])p=e,x[e]=1;else if(!h)return a;if(h&&O===g-1&&!s.length)d=!1,e=p||e,x[e]=0;else if(!p)continue}if(!x[e]){const n=[];let i=!1,o=0;const a=d?S[p]:this.i;if(a){let r;for(let s=0;s<t-k;s++)(r=a[s]&&a[s][e])&&(n[o++]=r,i=!0)}if(i)p=e,s[s.length]=1<o?n.concat.apply([],n):n[0];else if(!h){r=!1;break}x[e]=1}}}}else r=!1;return r&&(a=v(s,e,f,h)),this.cache&&this.j.set(t,a),a}this.F=n,this.u=0,this.o=[];for(var k=0;k<this.g;k++)this.m[k].postMessage({search:!0,limit:e,content:t})},n.prototype.find=function(t,e){return this.where(t,e,1)[0]||null},n.prototype.where=function(t,e,n,r){const i=this.l,o=[];let s,a=0;var c;let u;if(w(t)){n||(n=e);var f=Object.keys(t),h=f.length;if(s=!1,1===h&&"id"===f[0])return[i[t.id]];if((c=this.I)&&!r)for(var l=0;l<c.length;l++){var d=c[l],p=t[d];if(!S(p)){if(u=this.G[d]["@"+p],0==--h)return u;f.splice(f.indexOf(d),1),delete t[d];break}}for(c=Array(h),l=0;l<h;l++)c[l]=f[l].split(":")}else{if(b(t)){for(n=(e=r||Object.keys(i)).length,f=0;f<n;f++)t(h=i[e[f]])&&(o[a++]=h);return o}if(S(e))return[i[t]];if("id"===t)return[i[e]];f=[t],h=1,c=[t.split(":")],s=!0}for(l=(r=u||r||Object.keys(i)).length,d=0;d<l;d++){p=u?r[d]:i[r[d]];let l=!0;for(let n=0;n<h;n++){s||(e=t[f[n]]);const r=c[n],i=r.length;let o=p;if(1<i)for(let t=0;t<i;t++)o=o[r[t]];else o=o[r[0]];if(o!==e){l=!1;break}}if(l&&(o[a++]=p,n&&a===n))break}return o},n.prototype.info=function(){if(!this.g)return{id:this.id,items:this.length,cache:!(!this.cache||!this.cache.s)&&this.cache.s.length,matcher:T.length+(this.v?this.v.length:0),worker:this.g,threshold:this.threshold,depth:this.depth,resolution:this.b,contextual:this.depth&&"strict"===this.f};for(let t=0;t<this.g;t++)this.m[t].postMessage({info:!0,id:this.id})},n.prototype.clear=function(){return this.destroy().init()},n.prototype.destroy=function(){if(this.cache&&(this.j.clear(),this.j=null),this.i=this.h=this.c=null,this.a){const t=this.a.keys;for(let e=0;e<t.length;e++)this.a.index[t[e]].destroy();this.a=this.l=null}return this},n.prototype.export=function(t){const e=!t||S(t.serialize)||t.serialize;if(this.a){const e=!t||S(t.doc)||t.doc;var n=!t||S(t.index)||t.index;t=[];let r=0;if(n)for(n=this.a.keys;r<n.length;r++){const e=this.a.index[n[r]];t[r]=[e.i,e.h,Object.keys(e.c)]}e&&(t[r]=this.l)}else t=[this.i,this.h,Object.keys(this.c)];return e&&(t=JSON.stringify(t)),t},n.prototype.import=function(t,e){(!e||S(e.serialize)||e.serialize)&&(t=JSON.parse(t));const n=j();if(this.a){var r=!e||S(e.doc)||e.doc,i=0;if(!e||S(e.index)||e.index){const r=(e=this.a.keys).length;for(var o=t[0][2];i<o.length;i++)n[o[i]]=1;for(i=0;i<r;i++){o=this.a.index[e[i]];const r=t[i];r&&(o.i=r[0],o.h=r[1],o.c=n)}}r&&(this.l=w(r)?r:t[i])}else{for(r=t[2],i=0;i<r.length;i++)n[r[i]]=1;this.i=t[0],this.h=t[1],this.c=n}};const I=function(){const t=a("\\s+"),e=a("[^a-z0-9 ]"),n=[a("[-/]")," ",e,"",t," "];return function(t){return h(c(t.toLowerCase(),n))}}(),R={icase:function(t){return t.toLowerCase()},simple:function(){const t=a("\\s+"),e=a("[^a-z0-9 ]"),n=a("[-/]"),r=[a("[àáâãäå]"),"a",a("[èéêë]"),"e",a("[ìíîï]"),"i",a("[òóôõöő]"),"o",a("[ùúûüű]"),"u",a("[ýŷÿ]"),"y",a("ñ"),"n",a("[çc]"),"k",a("ß"),"s",a(" & ")," and ",n," ",e,"",t," "];return function(t){return" "===(t=c(t.toLowerCase(),r))?"":t}}(),advanced:function(){const t=a("ae"),e=a("ai"),n=a("ay"),r=a("ey"),i=a("oe"),o=a("ue"),s=a("ie"),u=a("sz"),f=a("zs"),l=a("ck"),d=a("cc"),p=[t,"a",e,"ei",n,"ei",r,"ei",i,"o",o,"u",s,"i",u,"s",f,"s",a("sh"),"s",l,"k",d,"k",a("th"),"t",a("dt"),"t",a("ph"),"f",a("pf"),"f",a("ou"),"o",a("uo"),"u"];return function(t,e){return t?(2<(t=this.simple(t)).length&&(t=c(t,p)),e||1<t.length&&(t=h(t)),t):t}}(),extra:function(){const t=[a("p"),"b",a("z"),"s",a("[cgq]"),"k",a("n"),"m",a("d"),"t",a("[vw]"),"f",a("[aeiouy]"),""];return function(e){if(!e)return e;if(1<(e=this.advanced(e,!0)).length){e=e.split(" ");for(let n=0;n<e.length;n++){const r=e[n];1<r.length&&(e[n]=r[0]+c(r.substring(1),t))}e=h(e=e.join(" "))}return e}}(),balance:I},M=function(){function t(t){this.clear(),this.H=!0!==t&&t}return t.prototype.clear=function(){this.cache=j(),this.count=j(),this.index=j(),this.s=[]},t.prototype.set=function(t,e){if(this.H&&S(this.cache[t])){let n=this.s.length;if(n===this.H){n--;const t=this.s[n];delete this.cache[t],delete this.count[t],delete this.index[t]}this.index[t]=n,this.s[n]=t,this.count[t]=-1,this.cache[t]=e,this.get(t)}else this.cache[t]=e},t.prototype.get=function(t){const e=this.cache[t];if(this.H&&e){var n=++this.count[t];const e=this.index;let i=e[t];if(0<i){const o=this.s;for(var r=i;this.count[o[--i]]<=n&&-1!==i;);if(i++,i!==r){for(n=r;n>i;n--)r=o[n-1],o[n]=r,e[r]=n;o[i]=t,e[t]=i}}}return e},t}();return n}(function(){const t={},e="undefined"!=typeof Blob&&"undefined"!=typeof URL&&URL.createObjectURL;return function(n,r,i,o,s){return i=e?URL.createObjectURL(new Blob(["("+i.toString()+")()"],{type:"text/javascript"})):n+".min.js",t[n+="-"+r]||(t[n]=[]),t[n][s]=new Worker(i),t[n][s].onmessage=o,t[n][s]}}()),this)},function(t,e,n){"use strict";(function(t){var n=function(t){return"object"==typeof t?null!==t:"function"==typeof t},r=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t},i=function(t){try{return!!t()}catch(t){return!0}},o=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}));function s(t,e){return t(e={exports:{}},e.exports),e.exports}var a=s((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),c=a.document,u=n(c)&&n(c.createElement),f=function(t){return u?c.createElement(t):{}},h=!o&&!i((function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a})),l=Object.defineProperty,d={f:o?Object.defineProperty:function(t,e,i){if(r(t),e=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e,!0),r(i),h)try{return l(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},p=d.f,g=Function.prototype,v=/^\s*function ([^ (]*)/;"name"in g||o&&p(g,"name",{configurable:!0,get:function(){try{return(""+this).match(v)[1]}catch(t){return""}}});var m=s((function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)})),y=(m.version,s((function(t){var e=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:m.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}))),b=0,w=Math.random(),S=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++b+w).toString(36))},x=s((function(t){var e=y("wks"),n=a.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:S)("Symbol."+t))}).store=e})),j=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},O=o?function(t,e,n){return d.f(t,e,j(1,n))}:function(t,e,n){return t[e]=n,t},k=x("unscopables"),_=Array.prototype;null==_[k]&&O(_,k,{});var E=function(t){_[k][t]=!0},T=function(t,e){return{value:e,done:!!t}},L={},C={}.toString,P=function(t){return C.call(t).slice(8,-1)},A=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==P(t)?t.split(""):Object(t)},I=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},R=function(t){return A(I(t))},M={}.hasOwnProperty,F=function(t,e){return M.call(t,e)},N=y("native-function-to-string",Function.toString),B=s((function(t){var e=S("src"),n=(""+N).split("toString");m.inspectSource=function(t){return N.call(t)},(t.exports=function(t,r,i,o){var s="function"==typeof i;s&&(F(i,"name")||O(i,"name",r)),t[r]!==i&&(s&&(F(i,e)||O(i,e,t[r]?""+t[r]:n.join(String(r)))),t===a?t[r]=i:o?t[r]?t[r]=i:O(t,r,i):(delete t[r],O(t,r,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[e]||N.call(this)}))})),U=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},D=function(t,e,n){if(U(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},q=function(t,e,n){var r,i,o,s,c=t&q.F,u=t&q.G,f=t&q.S,h=t&q.P,l=t&q.B,d=u?a:f?a[e]||(a[e]={}):(a[e]||{}).prototype,p=u?m:m[e]||(m[e]={}),g=p.prototype||(p.prototype={});for(r in u&&(n=e),n)o=((i=!c&&d&&void 0!==d[r])?d:n)[r],s=l&&i?D(o,a):h&&"function"==typeof o?D(Function.call,o):o,d&&B(d,r,o,t&q.U),p[r]!=o&&O(p,r,s),h&&g[r]!=o&&(g[r]=o)};a.core=m,q.F=1,q.G=2,q.S=4,q.P=8,q.B=16,q.W=32,q.U=64,q.R=128;var G=q,z=Math.ceil,H=Math.floor,W=function(t){return isNaN(t=+t)?0:(t>0?H:z)(t)},V=Math.min,J=function(t){return t>0?V(W(t),9007199254740991):0},$=Math.max,K=Math.min,X=function(t){return function(e,n,r){var i,o=R(e),s=J(o.length),a=function(t,e){return(t=W(t))<0?$(t+e,0):K(t,e)}(r,s);if(t&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Q=y("keys"),Y=function(t){return Q[t]||(Q[t]=S(t))},Z=X(!1),tt=Y("IE_PROTO"),et="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),nt=Object.keys||function(t){return function(t,e){var n,r=R(t),i=0,o=[];for(n in r)n!=tt&&F(r,n)&&o.push(n);for(;e.length>i;)F(r,n=e[i++])&&(~Z(o,n)||o.push(n));return o}(t,et)},rt=o?Object.defineProperties:function(t,e){r(t);for(var n,i=nt(e),o=i.length,s=0;o>s;)d.f(t,n=i[s++],e[n]);return t},it=a.document,ot=it&&it.documentElement,st=Y("IE_PROTO"),at=function(){},ct=function(){var t,e=f("iframe"),n=et.length;for(e.style.display="none",ot.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),ct=t.F;n--;)delete ct.prototype[et[n]];return ct()},ut=Object.create||function(t,e){var n;return null!==t?(at.prototype=r(t),n=new at,at.prototype=null,n[st]=t):n=ct(),void 0===e?n:rt(n,e)},ft=d.f,ht=x("toStringTag"),lt=function(t,e,n){t&&!F(t=n?t:t.prototype,ht)&&ft(t,ht,{configurable:!0,value:e})},dt={};O(dt,x("iterator"),(function(){return this}));var pt=function(t,e,n){t.prototype=ut(dt,{next:j(1,n)}),lt(t,e+" Iterator")},gt=function(t){return Object(I(t))},vt=Y("IE_PROTO"),mt=Object.prototype,yt=Object.getPrototypeOf||function(t){return t=gt(t),F(t,vt)?t[vt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?mt:null},bt=x("iterator"),wt=!([].keys&&"next"in[].keys()),St=function(){return this},xt=function(t,e,n,r,i,o,s){pt(n,e,r);var a,c,u,f=function(t){if(!wt&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",l="values"==i,d=!1,p=t.prototype,g=p[bt]||p["@@iterator"]||i&&p[i],v=g||f(i),m=i?l?f("entries"):v:void 0,y="Array"==e&&p.entries||g;if(y&&(u=yt(y.call(new t)))!==Object.prototype&&u.next&&(lt(u,h,!0),"function"!=typeof u[bt]&&O(u,bt,St)),l&&g&&"values"!==g.name&&(d=!0,v=function(){return g.call(this)}),(wt||d||!p[bt])&&O(p,bt,v),L[e]=v,L[h]=St,i)if(a={values:l?v:f("values"),keys:o?v:f("keys"),entries:m},s)for(c in a)c in p||B(p,c,a[c]);else G(G.P+G.F*(wt||d),e,a);return a}(Array,"Array",(function(t,e){this._t=R(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,T(1)):T(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values");L.Arguments=L.Array,E("keys"),E("values"),E("entries");for(var jt=x("iterator"),Ot=x("toStringTag"),kt=L.Array,_t={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Et=nt(_t),Tt=0;Tt<Et.length;Tt++){var Lt,Ct=Et[Tt],Pt=_t[Ct],At=a[Ct],It=At&&At.prototype;if(It&&(It[jt]||O(It,jt,kt),It[Ot]||O(It,Ot,Ct),L[Ct]=kt,Pt))for(Lt in xt)It[Lt]||B(It,Lt,xt[Lt],!0)}var Rt,Mt,Ft,Nt;Rt="keys",Mt=function(){return function(t){return nt(gt(t))}},Ft=(m.Object||{})[Rt]||Object[Rt],(Nt={})[Rt]=Mt(Ft),G(G.S+G.F*i((function(){Ft(1)})),"Object",Nt);var Bt={f:Object.getOwnPropertySymbols},Ut={f:{}.propertyIsEnumerable},Dt=Object.assign,qt=!Dt||i((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Dt({},t)[n]||Object.keys(Dt({},e)).join("")!=r}))?function(t,e){for(var n=gt(t),r=arguments.length,i=1,s=Bt.f,a=Ut.f;r>i;)for(var c,u=A(arguments[i++]),f=s?nt(u).concat(s(u)):nt(u),h=f.length,l=0;h>l;)c=f[l++],o&&!a.call(u,c)||(n[c]=u[c]);return n}:Dt;G(G.S+G.F,"Object",{assign:qt});var Gt,zt,Ht,Wt=x("toStringTag"),Vt="Arguments"==P(function(){return arguments}()),Jt=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Wt))?n:Vt?P(e):"Object"==(r=P(e))&&"function"==typeof e.callee?"Arguments":r},$t=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}},Kt=x("iterator"),Xt=Array.prototype,Qt=x("iterator"),Yt=m.getIteratorMethod=function(t){if(null!=t)return t[Qt]||t["@@iterator"]||L[Jt(t)]},Zt=s((function(t){var e={},n={},i=t.exports=function(t,i,o,s,a){var c,u,f,h,l,d=a?function(){return t}:Yt(t),p=D(o,s,i?2:1),g=0;if("function"!=typeof d)throw TypeError(t+" is not iterable!");if(void 0===(l=d)||L.Array!==l&&Xt[Kt]!==l){for(f=d.call(t);!(u=f.next()).done;)if((h=$t(f,p,u.value,i))===e||h===n)return h}else for(c=J(t.length);c>g;g++)if((h=i?p(r(u=t[g])[0],u[1]):p(t[g]))===e||h===n)return h};i.BREAK=e,i.RETURN=n})),te=x("species"),ee=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},ne=a.process,re=a.setImmediate,ie=a.clearImmediate,oe=a.MessageChannel,se=a.Dispatch,ae=0,ce={},ue=function(){var t=+this;if(ce.hasOwnProperty(t)){var e=ce[t];delete ce[t],e()}},fe=function(t){ue.call(t.data)};re&&ie||(re=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return ce[++ae]=function(){ee("function"==typeof t?t:Function(t),e)},Gt(ae),ae},ie=function(t){delete ce[t]},"process"==P(ne)?Gt=function(t){ne.nextTick(D(ue,t,1))}:se&&se.now?Gt=function(t){se.now(D(ue,t,1))}:oe?(Ht=(zt=new oe).port2,zt.port1.onmessage=fe,Gt=D(Ht.postMessage,Ht,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(Gt=function(t){a.postMessage(t+"","*")},a.addEventListener("message",fe,!1)):Gt="onreadystatechange"in f("script")?function(t){ot.appendChild(f("script")).onreadystatechange=function(){ot.removeChild(this),ue.call(t)}}:function(t){setTimeout(D(ue,t,1),0)});var he={set:re,clear:ie},le=he.set,de=a.MutationObserver||a.WebKitMutationObserver,pe=a.process,ge=a.Promise,ve="process"==P(pe);function me(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=U(e),this.reject=U(n)}var ye={f:function(t){return new me(t)}},be=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},we=a.navigator,Se=we&&we.userAgent||"",xe=x("species"),je=x("iterator"),Oe=!1;try{var ke=[7][je]();ke.return=function(){Oe=!0},Array.from(ke,(function(){throw 2}))}catch(t){}var _e,Ee,Te,Le,Ce=he.set,Pe=function(){var t,e,n,r=function(){var r,i;for(ve&&(r=pe.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(ve)n=function(){pe.nextTick(r)};else if(!de||a.navigator&&a.navigator.standalone)if(ge&&ge.resolve){var i=ge.resolve(void 0);n=function(){i.then(r)}}else n=function(){le.call(a,r)};else{var o=!0,s=document.createTextNode("");new de(r).observe(s,{characterData:!0}),n=function(){s.data=o=!o}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}(),Ae=a.TypeError,Ie=a.process,Re=Ie&&Ie.versions,Me=Re&&Re.v8||"",Fe=a.Promise,Ne="process"==Jt(Ie),Be=function(){},Ue=Ee=ye.f,De=!!function(){try{var t=Fe.resolve(1),e=(t.constructor={})[x("species")]=function(t){t(Be,Be)};return(Ne||"function"==typeof PromiseRejectionEvent)&&t.then(Be)instanceof e&&0!==Me.indexOf("6.6")&&-1===Se.indexOf("Chrome/66")}catch(t){}}(),qe=function(t){var e;return!(!n(t)||"function"!=typeof(e=t.then))&&e},Ge=function(t,e){if(!t._n){t._n=!0;var n=t._c;Pe((function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,c=e.resolve,u=e.reject,f=e.domain;try{a?(i||(2==t._h&&We(t),t._h=1),!0===a?n=r:(f&&f.enter(),n=a(r),f&&(f.exit(),s=!0)),n===e.promise?u(Ae("Promise-chain cycle")):(o=qe(n))?o.call(n,c,u):c(n)):u(r)}catch(t){f&&!s&&f.exit(),u(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&ze(t)}))}},ze=function(t){Ce.call(a,(function(){var e,n,r,i=t._v,o=He(t);if(o&&(e=be((function(){Ne?Ie.emit("unhandledRejection",i,t):(n=a.onunhandledrejection)?n({promise:t,reason:i}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=Ne||He(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},He=function(t){return 1!==t._h&&0===(t._a||t._c).length},We=function(t){Ce.call(a,(function(){var e;Ne?Ie.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})}))},Ve=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Ge(e,!0))},Je=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw Ae("Promise can't be resolved itself");(e=qe(t))?Pe((function(){var r={_w:n,_d:!1};try{e.call(t,D(Je,r,1),D(Ve,r,1))}catch(t){Ve.call(r,t)}})):(n._v=t,n._s=1,Ge(n,!1))}catch(t){Ve.call({_w:n,_d:!1},t)}}};De||(Fe=function(t){!function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!")}(this,Fe,"Promise","_h"),U(t),_e.call(this);try{t(D(Je,this,1),D(Ve,this,1))}catch(t){Ve.call(this,t)}},(_e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,n){for(var r in e)B(t,r,e[r],n);return t}(Fe.prototype,{then:function(t,e){var n,i,o,s=Ue((n=Fe,void 0===(o=r(this).constructor)||null==(i=r(o)[te])?n:U(i)));return s.ok="function"!=typeof t||t,s.fail="function"==typeof e&&e,s.domain=Ne?Ie.domain:void 0,this._c.push(s),this._a&&this._a.push(s),this._s&&Ge(this,!1),s.promise},catch:function(t){return this.then(void 0,t)}}),Te=function(){var t=new _e;this.promise=t,this.resolve=D(Je,t,1),this.reject=D(Ve,t,1)},ye.f=Ue=function(t){return t===Fe||t===Le?new Te(t):Ee(t)}),G(G.G+G.W+G.F*!De,{Promise:Fe}),lt(Fe,"Promise"),function(t){var e=a[t];o&&e&&!e[xe]&&d.f(e,xe,{configurable:!0,get:function(){return this}})}("Promise"),Le=m.Promise,G(G.S+G.F*!De,"Promise",{reject:function(t){var e=Ue(this);return(0,e.reject)(t),e.promise}}),G(G.S+G.F*!De,"Promise",{resolve:function(t){return function(t,e){if(r(t),n(e)&&e.constructor===t)return e;var i=ye.f(t);return(0,i.resolve)(e),i.promise}(this,t)}}),G(G.S+G.F*!(De&&function(t,e){if(!e&&!Oe)return!1;var n=!1;try{var r=[7],i=r[je]();i.next=function(){return{done:n=!0}},r[je]=function(){return i},t(r)}catch(t){}return n}((function(t){Fe.all(t).catch(Be)}))),"Promise",{all:function(t){var e=this,n=Ue(e),r=n.resolve,i=n.reject,o=be((function(){var n=[],o=0,s=1;Zt(t,!1,(function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then((function(t){c||(c=!0,n[a]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=Ue(e),r=n.reject,i=be((function(){Zt(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}});var $e={};$e[x("toStringTag")]="z",$e+""!="[object z]"&&B(Object.prototype,"toString",(function(){return"[object "+Jt(this)+"]"}),!0);var Ke=x("match"),Xe=function(t,e,r){if(n(i=e)&&(void 0!==(o=i[Ke])?o:"RegExp"==P(i)))throw TypeError("String#"+r+" doesn't accept regex!");var i,o;return String(I(t))},Qe=x("match"),Ye=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Qe]=!1,!"/./"[t](e)}catch(t){}}return!0},Ze="".startsWith;G(G.P+G.F*Ye("startsWith"),"String",{startsWith:function(t){var e=Xe(this,t,"startsWith"),n=J(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Ze?Ze.call(e,r,n):e.slice(n,n+r.length)===r}});var tn="".endsWith;G(G.P+G.F*Ye("endsWith"),"String",{endsWith:function(t){var e=Xe(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=J(e.length),i=void 0===n?r:Math.min(J(n),r),o=String(t);return tn?tn.call(e,o,i):e.slice(i-o.length,i)===o}});var en=X(!0);G(G.P,"Array",{includes:function(t){return en(this,t,arguments.length>1?arguments[1]:void 0)}}),E("includes");var nn=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}},rn=Object.prototype.toString;function on(t){return"[object Array]"===rn.call(t)}function sn(t){return void 0===t}function an(t){return null!==t&&"object"==typeof t}function cn(t){return"[object Function]"===rn.call(t)}function un(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),on(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var fn={isArray:on,isArrayBuffer:function(t){return"[object ArrayBuffer]"===rn.call(t)},isBuffer:function(t){return null!==t&&!sn(t)&&null!==t.constructor&&!sn(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:an,isUndefined:sn,isDate:function(t){return"[object Date]"===rn.call(t)},isFile:function(t){return"[object File]"===rn.call(t)},isBlob:function(t){return"[object Blob]"===rn.call(t)},isFunction:cn,isStream:function(t){return an(t)&&cn(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:un,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)un(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,i=arguments.length;r<i;r++)un(arguments[r],n);return e},extend:function(t,e,n){return un(e,(function(e,r){t[r]=n&&"function"==typeof e?nn(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function hn(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ln=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(fn.isURLSearchParams(e))r=e.toString();else{var i=[];fn.forEach(e,(function(t,e){null!=t&&(fn.isArray(t)?e+="[]":t=[t],fn.forEach(t,(function(t){fn.isDate(t)?t=t.toISOString():fn.isObject(t)&&(t=JSON.stringify(t)),i.push(hn(e)+"="+hn(t))})))})),r=i.join("&")}if(r){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t};function dn(){this.handlers=[]}dn.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},dn.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},dn.prototype.forEach=function(t){fn.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var pn=dn,gn=function(t,e,n){return fn.forEach(n,(function(n){t=n(t,e)})),t},vn=function(t){return!(!t||!t.__CANCEL__)},mn=function(t,e){fn.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))},yn=function(t,e,n,r,i){return function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,n,r,i)},bn=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],wn=fn.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=fn.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},Sn=fn.isStandardBrowserEnv()?{write:function(t,e,n,r,i,o){var s=[];s.push(t+"="+encodeURIComponent(e)),fn.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),fn.isString(r)&&s.push("path="+r),fn.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},xn=function(t){return new Promise((function(e,n){var r=t.data,i=t.headers;fn.isFormData(r)&&delete i["Content-Type"];var o=new XMLHttpRequest;if(t.auth){var s=t.auth.username||"",a=t.auth.password||"";i.Authorization="Basic "+btoa(s+":"+a)}var c,u,f=(c=t.baseURL,u=t.url,c&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(u)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(c,u):u);if(o.open(t.method.toUpperCase(),ln(f,t.params,t.paramsSerializer),!0),o.timeout=t.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in o?function(t){var e,n,r,i={};return t?(fn.forEach(t.split("\n"),(function(t){if(r=t.indexOf(":"),e=fn.trim(t.substr(0,r)).toLowerCase(),n=fn.trim(t.substr(r+1)),e){if(i[e]&&bn.indexOf(e)>=0)return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([n]):i[e]?i[e]+", "+n:n}})),i):i}(o.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:r,config:t,request:o};!function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(yn("Request failed with status code "+n.status,n.config,null,n.request,n))}(e,n,i),o=null}},o.onabort=function(){o&&(n(yn("Request aborted",t,"ECONNABORTED",o)),o=null)},o.onerror=function(){n(yn("Network Error",t,null,o)),o=null},o.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(yn(e,t,"ECONNABORTED",o)),o=null},fn.isStandardBrowserEnv()){var h=Sn,l=(t.withCredentials||wn(f))&&t.xsrfCookieName?h.read(t.xsrfCookieName):void 0;l&&(i[t.xsrfHeaderName]=l)}if("setRequestHeader"in o&&fn.forEach(i,(function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete i[e]:o.setRequestHeader(e,t)})),fn.isUndefined(t.withCredentials)||(o.withCredentials=!!t.withCredentials),t.responseType)try{o.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&o.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){o&&(o.abort(),n(t),o=null)})),void 0===r&&(r=null),o.send(r)}))},jn={"Content-Type":"application/x-www-form-urlencoded"};function On(t,e){!fn.isUndefined(t)&&fn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var kn,_n={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(kn=xn),kn),transformRequest:[function(t,e){return mn(e,"Accept"),mn(e,"Content-Type"),fn.isFormData(t)||fn.isArrayBuffer(t)||fn.isBuffer(t)||fn.isStream(t)||fn.isFile(t)||fn.isBlob(t)?t:fn.isArrayBufferView(t)?t.buffer:fn.isURLSearchParams(t)?(On(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):fn.isObject(t)?(On(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};_n.headers={common:{Accept:"application/json, text/plain, */*"}},fn.forEach(["delete","get","head"],(function(t){_n.headers[t]={}})),fn.forEach(["post","put","patch"],(function(t){_n.headers[t]=fn.merge(jn)}));var En=_n;function Tn(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var Ln=function(t){return Tn(t),t.headers=t.headers||{},t.data=gn(t.data,t.headers,t.transformRequest),t.headers=fn.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),fn.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||En.adapter)(t).then((function(e){return Tn(t),e.data=gn(e.data,e.headers,t.transformResponse),e}),(function(e){return vn(e)||(Tn(t),e&&e.response&&(e.response.data=gn(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},Cn=function(t,e){e=e||{};var n={},r=["url","method","params","data"],i=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];fn.forEach(r,(function(t){void 0!==e[t]&&(n[t]=e[t])})),fn.forEach(i,(function(r){fn.isObject(e[r])?n[r]=fn.deepMerge(t[r],e[r]):void 0!==e[r]?n[r]=e[r]:fn.isObject(t[r])?n[r]=fn.deepMerge(t[r]):void 0!==t[r]&&(n[r]=t[r])})),fn.forEach(o,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var s=r.concat(i).concat(o),a=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return fn.forEach(a,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n};function Pn(t){this.defaults=t,this.interceptors={request:new pn,response:new pn}}Pn.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=Cn(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[Ln,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},Pn.prototype.getUri=function(t){return t=Cn(this.defaults,t),ln(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},fn.forEach(["delete","get","head","options"],(function(t){Pn.prototype[t]=function(e,n){return this.request(fn.merge(n||{},{method:t,url:e}))}})),fn.forEach(["post","put","patch"],(function(t){Pn.prototype[t]=function(e,n,r){return this.request(fn.merge(r||{},{method:t,url:e,data:n}))}}));var An=Pn;function In(t){this.message=t}In.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},In.prototype.__CANCEL__=!0;var Rn=In;function Mn(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new Rn(t),e(n.reason))}))}Mn.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Mn.source=function(){var t;return{token:new Mn((function(e){t=e})),cancel:t}};var Fn=Mn;function Nn(t){var e=new An(t),n=nn(An.prototype.request,e);return fn.extend(n,An.prototype,e),fn.extend(n,e),n}var Bn=Nn(En);Bn.Axios=An,Bn.create=function(t){return Nn(Cn(Bn.defaults,t))},Bn.Cancel=Rn,Bn.CancelToken=Fn,Bn.isCancel=vn,Bn.all=function(t){return Promise.all(t)},Bn.spread=function(t){return function(e){return t.apply(null,e)}};var Un=Bn,Dn=Bn;Un.default=Dn;var qn=Un,Gn=["v2","v3","canary"],zn="@tryghost/content-api";e.a=function t(e){var n=e.url,r=e.host,i=e.ghostPath,o=void 0===i?"ghost":i,s=e.version,a=e.key;if(r&&(console.warn("".concat(zn,": The 'host' parameter is deprecated, please use 'url' instead")),n||(n=r)),this instanceof t)return t({url:n,version:s,key:a});if(!s)throw new Error("".concat(zn," Config Missing: 'version' is required. E.g. ").concat(Gn.join(",")));if(!Gn.includes(s))throw new Error("".concat(zn," Config Invalid: 'version' ").concat(s," is not supported"));if(!n)throw new Error("".concat(zn," Config Missing: 'url' is required. E.g. 'https://site.com'"));if(!/https?:\/\//.test(n))throw new Error("".concat(zn," Config Invalid: 'url' ").concat(n," requires a protocol. E.g. 'https://site.com'"));if(n.endsWith("/"))throw new Error("".concat(zn," Config Invalid: 'url' ").concat(n," must not have a trailing slash. E.g. 'https://site.com'"));if(o.endsWith("/")||o.startsWith("/"))throw new Error("".concat(zn," Config Invalid: 'ghostPath' ").concat(o," must not have a leading or trailing slash. E.g. 'ghost'"));if(a&&!/[0-9a-f]{26}/.test(a))throw new Error("".concat(zn," Config Invalid: 'key' ").concat(a," must have 26 hex characters"));var c=["posts","authors","tags","pages","settings"].reduce((function(t,e){return Object.assign(t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,{read:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!t||!t.id&&!t.slug)return Promise.reject(new Error("".concat(zn," read requires an id or slug.")));var i=Object.assign({},t,n);return u(e,i,t.id||"slug/".concat(t.slug),r)},browse:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return u(e,t,null,n)}}))}),{});return delete c.settings.read,c;function u(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!i&&!a)return Promise.reject(new Error("".concat(zn," Config Missing: 'key' is required.")));delete e.id;var c=i?{Authorization:"GhostMembers ".concat(i)}:void 0;return qn.get("".concat(n,"/").concat(o,"/api/").concat(s,"/content/").concat(t,"/").concat(r?r+"/":""),{params:Object.assign({key:a},e),paramsSerializer:function(t){return Object.keys(t).reduce((function(e,n){var r=encodeURIComponent([].concat(t[n]).join(","));return e.concat("".concat(n,"=").concat(r))}),[]).join("&")},headers:c}).then((function(e){return Array.isArray(e.data[t])?1!==e.data[t].length||e.data.meta?Object.assign(e.data[t],{meta:e.data.meta}):e.data[t][0]:e.data[t]})).catch((function(t){if(t.response&&t.response.data&&t.response.data.errors){var e=t.response.data.errors[0],n=new Error(e.message),r=Object.keys(e);throw n.name=e.type,r.forEach((function(t){n[t]=e[t]})),n.response=t.response,n.request=t.request,n.config=t.config,n}throw t}))}}}).call(this,n(3))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return u}));var r=n(0),i=n.n(r),o=n(1);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config={url:window.location.origin,key:"",version:"v3",loadOn:"focus",searchOn:"keyup",limit:10,inputId:"search-bar",outputId:"search-results",outputChildsType:"li",postsFields:["title","url","excerpt","custom_excerpt","published_at","feature_image"],postsExtraFields:["tags"],postsFormats:["plaintext"],indexedFields:["title","string_tags","excerpt","plaintext"],template:function(t){var e='<a href="'.concat(t.url,'">');return t.feature_image&&(e+='<img src="'.concat(t.feature_image,'">')),e+="<section>",t.tags.length>0?e+='<header>\n                            <span class="head-tags">'.concat(t.tags[0].name,'</span>\n                            <span class="head-date">').concat(t.published_at,"</span>\n                          </header>"):e+='<header>\n                            <span class="head-tags">UNKNOWN</span>\n                            <span class="head-date">'.concat(t.published_at,"</span>\n                          </header>"),e+="<h2>".concat(t.title,"</h2>"),e+="</section></a>"},emptyTemplate:function(){},customProcessing:function(t){return t.tags&&(t.string_tags=t.tags.map((function(t){return t.name})).join(" ").toLowerCase()),t},date:{locale:"en-US",options:{year:"numeric",month:"short",day:"numeric"}},cacheMaxAge:3600,onFetchStart:function(){},onFetchEnd:function(t){},onIndexBuildStart:function(){},onIndexBuildEnd:function(t){},onSearchStart:function(){},onSearchEnd:function(t){},debug:!1},this.dataLoaded=!1,this.postsCount=0,this.storage=this.getLocalStorage(),this.init(e),this.setEventListners(),this.start()}var e,n,r;return e=t,(n=[{key:"init",value:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=s(n[e],2),i=r[0],a=r[1];this.config[i]=a}this.originalPostsFields=this.config.postsFields,this.config.postsFields.includes("updated_at")||this.config.postsFields.push("updated_at");var c=document.getElementById(this.config.inputId);if(!c)throw"Enable to find the input #".concat(this.config.inputId,", please check your configuration");this.searchBar=c,this.ghostApi=new o.a({url:this.config.url,key:this.config.key,version:this.config.version}),this.index=this.getNewSearchIndex()}},{key:"getNewSearchIndex",value:function(){return new i.a({doc:{id:"id",field:this.config.indexedFields},encode:"simple",tokenize:"forward",threshold:0,resolution:4,depth:0})}},{key:"setEventListners",value:function(){var t=this,e=this.searchBar.closest("form");switch(e&&e.addEventListener("submit",(function(e){e.preventDefault(),t.dataLoaded||t.loadResources();var n=t.searchBar.value.toLowerCase();t.search(n)})),this.config.searchOn){case"keyup":this.searchBar.addEventListener("keyup",(function(){t.dataLoaded||t.loadResources();var e=t.searchBar.value.toLowerCase();t.search(e)}));break;case"submit":if(!e)throw"No form associated with the input ID #".concat(this.config.inputId,", unable to start SearchinGhost");break;case"none":break;default:throw'Unknown "searchOn" option: \''.concat(this.config.searchOn,"'")}}},{key:"start",value:function(){var t=this;switch(this.config.loadOn){case"focus":this.searchBar.addEventListener("focus",(function(){t.dataLoaded||t.loadResources()}));break;case"page":window.addEventListener("load",(function(){t.loadResources()}));break;case"page":break;default:throw'Unknown "loadOn" option: \''.concat(this.config.loadOn,"'")}}},{key:"loadResources",value:function(){if(!this.storage)return this.log("No local storage available, switch to degraded mode"),void this.fetch();var t=this.storage.getItem("SearchinGhost_index");t?(this.log("Found an index stored locally, loads it"),this.config.onIndexBuildStart(),this.index.import(t),this.dataLoaded=!0,this.config.onIndexBuildEnd(this.index),this.validateCache()):(this.log("No already stored index found"),this.fetch())}},{key:"validateCache",value:function(){var t=this,e=this.storage.getItem("SearchinGhost_lastCacheUpdateTimestamp");if(!e)return this.log("No cache update timestamp found, purge the cache"),void this.fetch();e=new Date(e);var n=Math.round((new Date-e)/1e3);n<this.config.cacheMaxAge?this.log("Skip cache refreshing, updated less than ".concat(this.config.cacheMaxAge,"s ago (").concat(n,"s)")):this.ghostApi.posts.browse({limit:1,fields:["updated_at"],order:"updated_at DESC"}).then((function(e){var n=t.storage.getItem("SearchinGhost_updatedat");e[0].updated_at!==n?(t.log("Local cache not up to date, purge it"),t.fetch()):(t.log("Local cached data up to date"),t.storage.setItem("SearchinGhost_lastCacheUpdateTimestamp",(new Date).toISOString()))})).catch((function(t){console.error("Unable to fetch the latest post information to check cache state",t)}))}},{key:"fetch",value:function(){var t=this;this.log("Start fetching data from Ghost API"),this.config.onFetchStart();var e={limit:"all",fields:this.config.postsFields,order:"updated_at DESC"};this.config.postsExtraFields.length>0&&(e.include=this.config.postsExtraFields),this.config.postsFormats.length>0&&(e.formats=this.config.postsFormats),this.ghostApi.posts.browse(e).then((function(e){t.config.onFetchEnd(e),t.config.onIndexBuildStart();var n=e[0].updated_at;t.index=t.getNewSearchIndex(),e.forEach((function(e){var n=t.format(e);t.index.add(n)})),t.dataLoaded=!0,t.config.onIndexBuildEnd(t.index),t.storage&&(t.storage.setItem("SearchinGhost_index",t.index.export()),t.storage.setItem("SearchinGhost_updatedat",n),t.storage.setItem("SearchinGhost_lastCacheUpdateTimestamp",(new Date).toISOString())),t.log("Search index build complete")})).catch((function(t){console.error("Unable to fetch Ghost data resources",t)}))}},{key:"format",value:function(t){return t.id=this.postsCount++,t.published_at=this.prettyDate(t.published_at),this.originalPostsFields.includes("updated_at")||delete t.updated_at,t.custom_excerpt&&(t.excerpt=t.custom_excerpt,delete t.custom_excerpt),t=this.config.customProcessing(t)}},{key:"prettyDate",value:function(t){return new Date(t).toLocaleDateString(this.config.date.locale,this.config.date.options)}},{key:"search",value:function(t){this.config.onSearchStart();var e=this.index.search(t,{limit:this.config.limit});this.display(e),this.config.onSearchEnd(e)}},{key:"display",value:function(t){var e=this,n=document.getElementById(this.config.outputId);if(n.innerHTML="",t.length<1){var r=this.evaluateTemplate(this.config.emptyTemplate,null);r&&n.appendChild(r)}else t.forEach((function(t){var r=e.evaluateTemplate(e.config.template,t);r&&n.appendChild(r)}))}},{key:"evaluateTemplate",value:function(t,e){var n=t(e);if(n){var r=document.createElement(this.config.outputChildsType);return r.classList.add("".concat(this.config.outputId,"-item")),r.innerHTML=n,r}}},{key:"getLocalStorage",value:function(){try{return window.localStorage.setItem("test",""),window.localStorage.removeItem("test"),window.localStorage}catch(t){return}}},{key:"log",value:function(t){this.config.debug&&console.log(t)}}])&&c(e.prototype,n),r&&c(e,r),t}()},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],f=!1,h=-1;function l(){f&&c&&(f=!1,c.length?u=c.concat(u):h=-1,u.length&&d())}function d(){if(!f){var t=a(l);f=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||f||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}]).default;